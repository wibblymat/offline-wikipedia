<!DOCTYPE html>
<html>
  <head>
    <title>{?title}{title} - {/title}Offline Wikipedia</title>
    <meta charset="utf-8">
    <meta name="theme-color" content="#9C27B0">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon-precomposed" href="imgs/wikipedia.png">
    <link rel="icon" href="/imgs/wikipedia.ico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script>location.port&&"80"!=location.port||"https:"==location.protocol||(location.protocol="https:")</script>
    {?flags.regular-css-loading}
      <link rel="stylesheet" href="/css/head-wiki.css">
    {:else}
      <style>{inlineCss|s}</style>
    {/flags.regular-css-loading}
    {?flags.framework-js}
      <script src="/js/page-framework.js"{^flags.blocking-js} async{/flags.blocking-js}></script>
    {:else}
      <script src="/js/page.js"{^flags.blocking-js} async{/flags.blocking-js}></script>
    {/flags.framework-js}
    {?flags.conditional-polyfills}
      <script>{`
      (function() {
        var webComponentsSupported = ('registerElement' in document
          && 'import' in document.createElement('link')
          && 'content' in document.createElement('template'));

        var async = `}{?flags.async-imports}true{:else}false{/flags.async-imports}{`;

        if (!webComponentsSupported) {
          var wcPoly = document.createElement('script');
          wcPoly.async = async;
          wcPoly.src = '/components/webcomponentsjs/webcomponents-lite.min.js';
          wcPoly.onload = lazyLoadPolymerAndElements;
          document.head.appendChild(wcPoly);
        } else {
          lazyLoadPolymerAndElements();
        }

        function lazyLoadPolymerAndElements () {
          var file = '/`}{?flags.vulcanize}vulcanized{:else}components{/flags.vulcanize}{`.html';

          var elements = [
            file
          ];

          elements.forEach(addImport);
        }

        function addImport(url) {
          var link = document.createElement('link');
          link.rel = 'import';
          link.setAttribute('async', async);
          link.href = url;
          document.head.appendChild(link);
        }
      })();
      `}</script>
    {:else}
      <script src="/components/webcomponentsjs/webcomponents-lite.min.js" {^flags.blocking-js} async{/flags.blocking-js}></script>
      {?flags.vulcanize}
        <link rel="import"{?flags.async-imports} async{/flags.async-imports} href="/vulcanized.html">
      {:else}
        <link rel="import"{?flags.async-imports} async{/flags.async-imports} href="/components.html">
      {/flags.vulcanize}
    {/flags.conditional-polyfills}
  </head>
  <body>
    <div class="toolbar">
      <a href="/">Wikipedia Demo</a>
      <paper-icon-button class="unresolved search-btn" icon="wiki:search" aria-label="Search"><svg class="fallback" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg></paper-icon-button>
      <div class="search-bar">
        <paper-icon-button class="back-btn" icon="wiki:arrow-back" aria-label="Back"></paper-icon-button>
        <paper-input label="Search" no-label-float class="search"></paper-input>
      </div>
      <script>
        (function() {
          var searchBar = document.querySelector('.search-bar');
          var searchInput = document.querySelector('.search');
          document.querySelector('.search-btn').addEventListener('click', function() {
            searchInput.value = '';
            searchBar.classList.add('active');
            searchInput.focus();
          });
          document.querySelector('.back-btn').addEventListener('click', function() {
            searchBar.classList.remove('active');
          });
        }());
      </script>
      <div class="search-results"></div>
    </div>

    {+bodyContent/}

  </body>
</html>
